{% extends 'base.html' %}

{% block title %}Dashboard â€” AuthProfile{% endblock %}

{% block content %}

<!-- Welcome Banner -->
<div class="welcome-banner">
    <div class="welcome-badge">
        <i class="bi bi-circle-fill" style="font-size: 6px; color: #10b981;"></i>
        Online
    </div>
    <h1>Welcome back, {{ user.get_full_name|default:user.username }}</h1>
    <p>Here's an overview of your account and quick access to everything.</p>
</div>

<!-- Stats Row -->
<div class="row g-3 mb-4">
    <div class="col-sm-6 col-lg-3">
        <div class="stat-card">
            <div class="stat-icon accent">
                <i class="bi bi-person"></i>
            </div>
            <div>
                <div class="stat-label">Username</div>
                <div class="stat-value">{{ user.username }}</div>
            </div>
        </div>
    </div>
    <div class="col-sm-6 col-lg-3">
        <div class="stat-card">
            <div class="stat-icon success">
                <i class="bi bi-envelope"></i>
            </div>
            <div>
                <div class="stat-label">Email</div>
                <div class="stat-value" style="font-size:1rem;">{{ user.email|default:"Not set" }}</div>
            </div>
        </div>
    </div>
    <div class="col-sm-6 col-lg-3">
        <div class="stat-card">
            <div class="stat-icon warning">
                <i class="bi bi-geo-alt"></i>
            </div>
            <div>
                <div class="stat-label">Location</div>
                <div class="stat-value" style="font-size:1rem;">{{ user.profile.location|default:"Not set" }}</div>
            </div>
        </div>
    </div>
    <div class="col-sm-6 col-lg-3">
        <div class="stat-card">
            <div class="stat-icon dark">
                <i class="bi bi-calendar3"></i>
            </div>
            <div>
                <div class="stat-label">Joined</div>
                <div class="stat-value" style="font-size:1rem;">{{ user.date_joined|date:"M d, Y" }}</div>
            </div>
        </div>
    </div>
</div>

<div class="row g-4">
    <!-- Profile Summary -->
    <div class="col-lg-5">
        <div class="card-custom no-lift">
            <div class="card-body">
                <div class="section-header">
                    <h5><i class="bi bi-person-badge"></i> Profile</h5>
                    <span class="line"></span>
                </div>

                <div class="profile-header" style="margin-bottom:1.25rem; padding-bottom:1.25rem;">
                    <div class="profile-avatar">
                        {{ user.first_name|first|default:user.username|first|upper }}
                    </div>
                    <div class="profile-info">
                        <h2>{{ user.get_full_name|default:user.username }}</h2>
                        <p>@{{ user.username }}</p>
                    </div>
                </div>

                <div class="detail-row">
                    <span class="detail-icon"><i class="bi bi-envelope"></i></span>
                    <span class="detail-label">Email</span>
                    <span class="detail-value">{{ user.email|default:"Not set" }}</span>
                </div>
                <div class="detail-row">
                    <span class="detail-icon"><i class="bi bi-geo-alt"></i></span>
                    <span class="detail-label">Location</span>
                    <span class="detail-value">{{ user.profile.location|default:"Not set" }}</span>
                </div>
                <div class="detail-row">
                    <span class="detail-icon"><i class="bi bi-telephone"></i></span>
                    <span class="detail-label">Phone</span>
                    <span class="detail-value">{{ user.profile.phone|default:"Not set" }}</span>
                </div>
                <div class="detail-row">
                    <span class="detail-icon"><i class="bi bi-chat-text"></i></span>
                    <span class="detail-label">Bio</span>
                    <span class="detail-value">{{ user.profile.bio|default:"Not set"|truncatewords:15 }}</span>
                </div>

                <div class="d-grid gap-2 mt-4">
                    <a href="{% url 'accounts:profile' %}" class="btn btn-accent">
                        <i class="bi bi-pencil-square"></i> Edit Profile
                    </a>
                    <a href="{% url 'accounts:password_change' %}" class="btn btn-ghost">
                        <i class="bi bi-key"></i> Change Password
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Quick Links -->
    <div class="col-lg-7">
        <div class="card-custom no-lift">
            <div class="card-body">
                <div class="section-header">
                    <h5><i class="bi bi-lightning"></i> Quick Access</h5>
                    <span class="line"></span>
                </div>

                <a href="{% url 'accounts:profile' %}" class="quick-link">
                    <div class="quick-link-icon"><i class="bi bi-pencil-square"></i></div>
                    <div class="quick-link-text">
                        <strong>Edit Profile</strong>
                        <small>Update your bio, location, and contact info</small>
                    </div>
                </a>

                <a href="/api/" class="quick-link">
                    <div class="quick-link-icon"><i class="bi bi-braces"></i></div>
                    <div class="quick-link-text">
                        <strong>Browsable API</strong>
                        <small>Explore the REST API in your browser</small>
                    </div>
                </a>

                <a href="/api/profiles/" class="quick-link">
                    <div class="quick-link-icon"><i class="bi bi-people"></i></div>
                    <div class="quick-link-text">
                        <strong>Profiles API</strong>
                        <small>Full CRUD operations on user profiles</small>
                    </div>
                </a>

                <a href="/api/users/" class="quick-link">
                    <div class="quick-link-icon"><i class="bi bi-list-ul"></i></div>
                    <div class="quick-link-text">
                        <strong>Users API</strong>
                        <small>Read-only list of all registered users</small>
                    </div>
                </a>

                <a href="/admin/" class="quick-link">
                    <div class="quick-link-icon"><i class="bi bi-sliders"></i></div>
                    <div class="quick-link-text">
                        <strong>Admin Panel</strong>
                        <small>Django administration interface</small>
                    </div>
                </a>
            </div>
        </div>
    </div>
</div>

{% endblock %}
